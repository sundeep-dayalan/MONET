

> plop@4.0.2 test:instrument
> nyc instrument ./bin ./instrumented/bin && nyc instrument ./src ./instrumented/src && cp package.json ./instrumented

[1G[0K[1G[0K⠙[1G[0K
> plop@4.0.2 vitest
> vitest run

[1G[0K[?25l
[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90m/Users/crutchcorn/git/plopjs/plop/packages/plop[39m

[?2026h
[1m[33m ❯ [39m[22mtests/typescript.spec.js[2m [queued][22m

[2m Test Files [22m[1m[32m0 passed[39m[22m[90m (6)[39m
[2m      Tests [22m[1m[32m0 passed[39m[22m[90m (0)[39m
[2m   Start at [22m04:17:46
[2m   Duration [22m101ms
[?2026l[?2026h[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K
[1m[33m ❯ [39m[22mtests/action-failure.spec.js[2m 0/1[22m
[1m[33m ❯ [39m[22mtests/actions.spec.js[2m 0/6[22m
[1m[33m ❯ [39m[22mtests/esm.spec.js[2m 0/4[22m
[1m[33m ❯ [39m[22mtests/input-processing.spec.js[2m 0/16[22m
[1m[33m ❯ [39m[22mtests/typescript.spec.js[2m 1/1[22m
[1m[33m ❯ [39m[22mtests/wrapper.spec.js[2m 0/5[22m

[2m Test Files [22m[1m[32m0 passed[39m[22m[90m (6)[39m
[2m      Tests [22m[1m[32m1 passed[39m[22m[90m (33)[39m
[2m   Start at [22m04:17:46
[2m   Duration [22m404ms
[?2026l[?2026h[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K [32m✓[39m tests/typescript.spec.js [2m([22m[2m1 test[22m[2m)[22m[33m 328[2mms[22m[39m
   [33m[2m✓[22m[39m support typescript out of the box [33m 327[2mms[22m[39m
 [32m✓[39m tests/action-failure.spec.js [2m([22m[2m1 test[22m[2m)[22m[33m 336[2mms[22m[39m
   [33m[2m✓[22m[39m should exit with code 1 when failed actions [33m 335[2mms[22m[39m


[1m[33m ❯ [39m[22mtests/actions.spec.js[2m 1/6[22m
[1m[33m ❯ [39m[22mtests/esm.spec.js[2m 1/4[22m
[1m[33m ❯ [39m[22mtests/input-processing.spec.js[2m 1/16[22m
[1m[33m ❯ [39m[22mtests/wrapper.spec.js[2m 0/5[22m

[2m Test Files [22m[1m[32m2 passed[39m[22m[90m (6)[39m
[2m      Tests [22m[1m[32m5 passed[39m[22m[90m (33)[39m
[2m   Start at [22m04:17:46
[2m   Duration [22m607ms
[?2026l[?2026h[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K [32m✓[39m tests/actions.spec.js [2m([22m[2m6 tests[22m[2m | [22m[33m4 skipped[39m[2m)[22m[33m 588[2mms[22m[39m
   [33m[2m✓[22m[39m Plop to add and rename files [33m 311[2mms[22m[39m


[1m[33m ❯ [39m[22mtests/esm.spec.js[2m 2/4[22m
[1m[33m ❯ [39m[22mtests/input-processing.spec.js[2m 1/16[22m
[1m[33m ❯ [39m[22mtests/wrapper.spec.js[2m 1/5[22m

[2m Test Files [22m[1m[32m3 passed[39m[22m[90m (6)[39m
[2m      Tests [22m[1m[32m8 passed[39m[22m[2m | [22m[33m4 skipped[39m[90m (33)[39m
[2m   Start at [22m04:17:46
[2m   Duration [22m809ms
[?2026l[?2026h[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K

[1m[33m ❯ [39m[22mtests/esm.spec.js[2m 2/4[22m
[1m[33m ❯ [39m[22mtests/input-processing.spec.js[2m 1/16[22m
[1m[33m ❯ [39m[22mtests/wrapper.spec.js[2m 2/5[22m

[2m Test Files [22m[1m[32m3 passed[39m[22m[90m (6)[39m
[2m      Tests [22m[1m[32m9 passed[39m[22m[2m | [22m[33m4 skipped[39m[90m (33)[39m
[2m   Start at [22m04:17:46
[2m   Duration [22m911ms
[?2026l[?2026h[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K

[1m[33m ❯ [39m[22mtests/esm.spec.js[2m 3/4[22m
[1m[33m ❯ [39m[22mtests/input-processing.spec.js[2m 2/16[22m
[1m[33m ❯ [39m[22mtests/wrapper.spec.js[2m 2/5[22m

[2m Test Files [22m[1m[32m3 passed[39m[22m[90m (6)[39m
[2m      Tests [22m[1m[32m11 passed[39m[22m[2m | [22m[33m4 skipped[39m[90m (33)[39m
[2m   Start at [22m04:17:46
[2m   Duration [22m1.11s
[?2026l[?2026h[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K

[1m[33m ❯ [39m[22mtests/esm.spec.js[2m 3/4[22m
[1m[33m ❯ [39m[22mtests/input-processing.spec.js[2m 2/16[22m
[1m[33m ❯ [39m[22mtests/wrapper.spec.js[2m 3/5[22m

[2m Test Files [22m[1m[32m3 passed[39m[22m[90m (6)[39m
[2m      Tests [22m[1m[32m12 passed[39m[22m[2m | [22m[33m4 skipped[39m[90m (33)[39m
[2m   Start at [22m04:17:46
[2m   Duration [22m1.21s
[?2026l[?2026h[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K [32m✓[39m tests/esm.spec.js [2m([22m[2m4 tests[22m[2m)[22m[33m 1146[2mms[22m[39m
   [33m[2m✓[22m[39m should load ESM file [33m 316[2mms[22m[39m


[1m[33m ❯ [39m[22mtests/input-processing.spec.js[2m 3/16[22m
[1m[33m ❯ [39m[22mtests/wrapper.spec.js[2m 3/5[22m

[2m Test Files [22m[1m[32m4 passed[39m[22m[90m (6)[39m
[2m      Tests [22m[1m[32m14 passed[39m[22m[2m | [22m[33m4 skipped[39m[90m (33)[39m
[2m   Start at [22m04:17:46
[2m   Duration [22m1.42s
[?2026l[?2026h[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K

[1m[33m ❯ [39m[22mtests/input-processing.spec.js[2m 3/16[22m
[1m[33m ❯ [39m[22mtests/wrapper.spec.js[2m 5/5[22m

[2m Test Files [22m[1m[32m4 passed[39m[22m[90m (6)[39m
[2m      Tests [22m[1m[32m16 passed[39m[22m[2m | [22m[33m4 skipped[39m[90m (33)[39m
[2m   Start at [22m04:17:46
[2m   Duration [22m1.62s
[?2026l[?2026h[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K [32m✓[39m tests/wrapper.spec.js [2m([22m[2m5 tests[22m[2m)[22m[33m 1514[2mms[22m[39m
   [33m[2m✓[22m[39m wrapper should show version on v flag [33m 439[2mms[22m[39m


[1m[33m ❯ [39m[22mtests/input-processing.spec.js[2m 4/16[22m

[2m Test Files [22m[1m[32m5 passed[39m[22m[90m (6)[39m
[2m      Tests [22m[1m[32m17 passed[39m[22m[2m | [22m[33m4 skipped[39m[90m (33)[39m
[2m   Start at [22m04:17:46
[2m   Duration [22m1.82s
[?2026l[?2026h[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K

[1m[33m ❯ [39m[22mtests/input-processing.spec.js[2m 4/16[22m

[2m Test Files [22m[1m[32m5 passed[39m[22m[90m (6)[39m
[2m      Tests [22m[1m[32m17 passed[39m[22m[2m | [22m[33m4 skipped[39m[90m (33)[39m
[2m   Start at [22m04:17:46
[2m   Duration [22m1.92s
[?2026l[?2026h[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K

[1m[33m ❯ [39m[22mtests/input-processing.spec.js[2m 6/16[22m

[2m Test Files [22m[1m[32m5 passed[39m[22m[90m (6)[39m
[2m      Tests [22m[1m[32m19 passed[39m[22m[2m | [22m[33m4 skipped[39m[90m (33)[39m
[2m   Start at [22m04:17:46
[2m   Duration [22m2.32s
[?2026l[?2026h[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K

[1m[33m ❯ [39m[22mtests/input-processing.spec.js[2m 7/16[22m

[2m Test Files [22m[1m[32m5 passed[39m[22m[90m (6)[39m
[2m      Tests [22m[1m[32m20 passed[39m[22m[2m | [22m[33m4 skipped[39m[90m (33)[39m
[2m   Start at [22m04:17:46
[2m   Duration [22m2.52s
[?2026l[?2026h[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K

[1m[33m ❯ [39m[22mtests/input-processing.spec.js[2m 8/16[22m

[2m Test Files [22m[1m[32m5 passed[39m[22m[90m (6)[39m
[2m      Tests [22m[1m[32m21 passed[39m[22m[2m | [22m[33m4 skipped[39m[90m (33)[39m
[2m   Start at [22m04:17:46
[2m   Duration [22m2.83s
[?2026l[?2026h[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K

[1m[33m ❯ [39m[22mtests/input-processing.spec.js[2m 8/16[22m

[2m Test Files [22m[1m[32m5 passed[39m[22m[90m (6)[39m
[2m      Tests [22m[1m[32m21 passed[39m[22m[2m | [22m[33m4 skipped[39m[90m (33)[39m
[2m   Start at [22m04:17:46
[2m   Duration [22m2.93s
[?2026l[?2026h[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K

[1m[33m ❯ [39m[22mtests/input-processing.spec.js[2m 10/16[22m

[2m Test Files [22m[1m[32m5 passed[39m[22m[90m (6)[39m
[2m      Tests [22m[1m[32m23 passed[39m[22m[2m | [22m[33m4 skipped[39m[90m (33)[39m
[2m   Start at [22m04:17:46
[2m   Duration [22m3.23s
[?2026l[?2026h[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K

[1m[33m ❯ [39m[22mtests/input-processing.spec.js[2m 11/16[22m

[2m Test Files [22m[1m[32m5 passed[39m[22m[90m (6)[39m
[2m      Tests [22m[1m[32m24 passed[39m[22m[2m | [22m[33m4 skipped[39m[90m (33)[39m
[2m   Start at [22m04:17:46
[2m   Duration [22m3.43s
[?2026l[?2026h[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K

[1m[33m ❯ [39m[22mtests/input-processing.spec.js[2m 12/16[22m

[2m Test Files [22m[1m[32m5 passed[39m[22m[90m (6)[39m
[2m      Tests [22m[1m[32m25 passed[39m[22m[2m | [22m[33m4 skipped[39m[90m (33)[39m
[2m   Start at [22m04:17:46
[2m   Duration [22m3.74s
[?2026l[?2026h[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K

[1m[33m ❯ [39m[22mtests/input-processing.spec.js[2m 12/16[22m

[2m Test Files [22m[1m[32m5 passed[39m[22m[90m (6)[39m
[2m      Tests [22m[1m[32m25 passed[39m[22m[2m | [22m[33m4 skipped[39m[90m (33)[39m
[2m   Start at [22m04:17:46
[2m   Duration [22m3.94s
[?2026l[?2026h[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K

[1m[33m ❯ [39m[22mtests/input-processing.spec.js[2m 14/16[22m

[2m Test Files [22m[1m[32m5 passed[39m[22m[90m (6)[39m
[2m      Tests [22m[1m[32m27 passed[39m[22m[2m | [22m[33m4 skipped[39m[90m (33)[39m
[2m   Start at [22m04:17:46
[2m   Duration [22m4.14s
[?2026l[?2026h[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K

[1m[33m ❯ [39m[22mtests/input-processing.spec.js[2m 15/16[22m

[2m Test Files [22m[1m[32m5 passed[39m[22m[90m (6)[39m
[2m      Tests [22m[1m[32m28 passed[39m[22m[2m | [22m[33m4 skipped[39m[90m (33)[39m
[2m   Start at [22m04:17:46
[2m   Duration [22m4.34s
[?2026l[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K [32m✓[39m tests/input-processing.spec.js [2m([22m[2m16 tests[22m[2m | [22m[33m1 skipped[39m[2m)[22m[33m 4201[2mms[22m[39m
   [33m[2m✓[22m[39m should report a missing plopfile when not copied [33m 405[2mms[22m[39m
   [33m[2m✓[22m[39m should show help information on help flag [33m 405[2mms[22m[39m
   [33m[2m✓[22m[39m should show version on version flag [33m 391[2mms[22m[39m
   [33m[2m✓[22m[39m should show version on v flag [33m 372[2mms[22m[39m

[2m Test Files [22m [1m[32m6 passed[39m[22m[90m (6)[39m
[2m      Tests [22m [1m[32m28 passed[39m[22m[2m | [22m[90m5 todo[39m[90m (33)[39m
[2m   Start at [22m 04:17:46
[2m   Duration [22m 4.37s[2m (transform 26ms, setup 104ms, collect 64ms, tests 8.11s, environment 0ms, prepare 216ms)[22m

[?25h[1G[0K⠙[1G[0K----------------------|---------|----------|---------|---------|--------------------------------
File                  | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s              
----------------------|---------|----------|---------|---------|--------------------------------
[31;1mAll files            [0m | [31;1m  16.09[0m | [31;1m   15.25[0m | [31;1m    7.5[0m | [31;1m  16.96[0m | [31;1m                              [0m 
[32;1m bin                 [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                              [0m 
[32;1m  plop.js            [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                              [0m 
[31;1m src                 [0m | [31;1m  14.11[0m | [31;1m   13.79[0m | [31;1m   5.12[0m | [31;1m   14.9[0m | [31;1m                              [0m 
[31;1m  bypass.js          [0m | [31;1m      0[0m | [31;1m       0[0m | [31;1m      0[0m | [31;1m      0[0m | [31;1m14-69                         [0m 
[31;1m  console-out.js     [0m | [31;1m     12[0m | [31;1m       0[0m | [31;1m      0[0m | [31;1m   12.5[0m | [31;1m9-129,141-142                 [0m 
[31;1m  input-processing.js[0m | [31;1m  26.08[0m | [31;1m   38.88[0m | [31;1m  14.28[0m | [31;1m   27.9[0m | [31;1m17-55,68-69,74-80,88-89,98-101[0m 
[31;1m  plop.js            [0m | [31;1m   12.5[0m | [31;1m    4.76[0m | [31;1m   7.69[0m | [31;1m  12.85[0m | [31;1m31-32,55-176                  [0m 
----------------------|---------|----------|---------|---------|--------------------------------

=============================== Coverage summary ===============================
[31;1mStatements   : 16.09% ( 28/174 )[0m
[31;1mBranches     : 15.25% ( 18/118 )[0m
[31;1mFunctions    : 7.5% ( 3/40 )[0m
[31;1mLines        : 16.96% ( 28/165 )[0m
================================================================================
